<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>UX Audio Router</title>
    <link rel="stylesheet" href="css/style.css">
</head>

<body>

    <h1>UX Audio Router</h1>

    <div class="status-bar">
        <div class="status-dot" id="uxMusicStatusDot"></div>
        <span id="uxMusicStatusText">UX Music: Disconnected</span>
    </div>

    <div class="mixer-console">
        <div id="inputStripsContainer" style="display:flex; gap:12px;"></div>

        <button class="add-strip-btn" id="addInputBtn" title="Add Input Device">+</button>

        <div style="width:1px; background:#444; margin:0 10px;"></div>

        <div class="strip direct-strip" id="directStrip">
            <div class="strip-header">UX MUSIC</div>
            <div
                style="height: 25px; display:flex; align-items:center; justify-content:center; font-size:0.6rem; color:var(--accent-blue); margin-bottom: 5px;">
                IPC SOCKET
            </div>

            <div class="route-container" id="directRouteContainer"></div>

            <div class="fader-group">
                <div class="meter-container-stereo">
                    <div class="meter-container">
                        <div class="meter-fill" id="directMeterL"></div>
                    </div>
                    <div class="meter-container">
                        <div class="meter-fill" id="directMeterR"></div>
                    </div>
                </div>
                <input type="range" id="directGainFader" class="fader-main" orient="vertical" min="0" max="1.5"
                    step="0.01" value="1.0">
            </div>
            <div class="db-display" id="directDbDisplay">0.0dB</div>

            <button id="directMuteBtn" class="btn-mute">Mute</button>

            <div style="margin-top:8px; width:100%; text-align:center;">
                <div style="font-size:0.6rem; color:#888;">Buffer: <span id="directBufferVal">0.10</span>s</div>
                <input type="range" id="directBufferSlider" min="0.01" max="0.5" step="0.01" value="0.10"
                    style="width:90%; height:4px; margin-top:2px;">
            </div>
        </div>

        <div style="width:1px; background:#444; margin:0 10px;"></div>

        <div id="outputStripsContainer" style="display:flex; gap:12px;"></div>

        <button class="add-strip-btn" id="addOutputBtn" title="Add Output Device">+</button>

        <div style="margin-left: 20px; display:flex; flex-direction:column; justify-content:flex-end;">
            <button id="startBtn" class="btn-mute"
                style="background-color: var(--accent-green); color: black; height:40px;">ON</button>
        </div>
    </div>

    <div id="eqModalOverlay" class="modal-overlay" style="display:none;">
        <div class="modal-window">
            <div class="modal-header">
                <span id="eqModalTitle">Output EQ</span>
                <button id="eqModalCloseBtn" class="modal-close-btn">Ã—</button>
            </div>
            <div class="modal-body">
                <div id="eqSlidersContainer" class="eq-sliders-container"></div>
            </div>
            <div class="modal-footer">
                <button id="eqResetBtn" class="btn-mute">Flat (Reset)</button>
            </div>
        </div>
    </div>

    <script src="js/app.js"></script>
</body>

</html>